(this.webpackJsonppersonal=this.webpackJsonppersonal||[]).push([[0],{25:function(e,t,a){},26:function(e,t,a){},36:function(e,t,a){},40:function(e,t,a){},47:function(e,t,a){e.exports=a(82)},52:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(41),s=a.n(r),i=(a(52),a(2)),o=a(3),c=a(5),u=a(4),m=a(17),d=(a(25),a(26),a(14)),p=a(1),f=a(20),b=a.n(f),g=a(7),v=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={message:"",count:0},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("click",(function(){null!=document.getElementById("navbarSupportedContent")&&document.getElementById("navbarSupportedContent").classList.remove("show")}))}},{key:"render",value:function(){return l.a.createElement("nav",{id:"navbar",className:"navbar navbar-expand-md navbar-dark bg-dark"},l.a.createElement("button",{id:"nav-toggler",className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},l.a.createElement("ul",{className:"navbar-nav mr-auto"},l.a.createElement("li",{className:"nav-item active"},l.a.createElement("a",{className:"nav-link",href:"#about"},"About ",l.a.createElement("span",{className:"sr-only"},"(current)"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",href:"#portfolio"},"Portfolio")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",href:"#contact"},"Contact")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(g.b,{className:"nav-link",to:"/app/public"},"Apps")))))}}]),a}(n.Component),h=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={},n}return Object(o.a)(a,[{key:"render",value:function(){if(this.props.data)var e=this.props.data,t=e.name,a=(e.profilepic,e.bio,e.email,e.resumedownload),n=e.occupation,r=this.props.data.address.cityname,s=this.props.data.social.map((function(e){return l.a.createElement("a",{key:e.name,className:"link",href:e.url},e.name," ",l.a.createElement("i",{className:e.className,style:{fontSize:"30px"}}))}));return l.a.createElement("section",{className:"about",id:"about"},l.a.createElement("div",{className:"intro"},l.a.createElement("h1",{style:{fontSize:"50px"}},t),l.a.createElement("p",{className:"lightdark"},n,"  in  ",r),l.a.createElement("p",null),l.a.createElement("div",{style:{display:"inline"}},s),l.a.createElement("a",{className:"btn btn-info download",href:a},l.a.createElement("i",{className:"fa fa-download",style:{fontSize:"30px"}})," Download Resume")))}}]),a}(n.Component),y=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={},n}return Object(o.a)(a,[{key:"render",value:function(){if(this.props.data)var e=this.props.data.education.map((function(e){return l.a.createElement("div",{key:e.school},l.a.createElement("h3",null,e.school),l.a.createElement("p",{className:"info"},l.a.createElement("em",null,e.degree),l.a.createElement("br",null),l.a.createElement("span",{className:"date"},e.graduated),l.a.createElement("br",null),l.a.createElement("span",{className:"date"},"GPA: ",e.GPA," / ",e.GPA_scale)),l.a.createElement("p",null,e.description))})),t=this.props.data.work.map((function(e){return l.a.createElement("div",{key:e.company,className:"experience-section"},l.a.createElement("h3",null,e.company),l.a.createElement("p",{className:"info"},l.a.createElement("em",{style:{color:"lightslategrey"}},e.title),l.a.createElement("br",null),l.a.createElement("span",{className:"date"},e.years)),l.a.createElement("p",{className:"description"},e.description))})),a=this.props.data.skills.map((function(e){var t="btn "+(e.level<=30?"btn-outline-info ":e.level<=60?"btn-outline-danger ":"btn-outline-success ")+e.name.toLowerCase();return l.a.createElement("div",{key:e.name,className:t,style:{margin:"0 10px 10px 0"}},l.a.createElement("strong",null,e.name))}));return l.a.createElement("section",{className:"portfolio",id:"portfolio"},l.a.createElement("div",{className:"resume-section"},l.a.createElement("h2",{className:"resume-title",style:{color:"#6699ff"}},"Education:"),l.a.createElement("div",null,e)),l.a.createElement("div",{className:"resume-section"},l.a.createElement("h2",{className:"resume-title",style:{color:"#ff9966"}},l.a.createElement("span",null,"Experience:")),l.a.createElement("div",null,t)),l.a.createElement("div",{className:"resume-section"},l.a.createElement("h2",{className:"resume-title",style:{color:"#00ff99"}},"Skills:"),l.a.createElement("div",null,a)))}}]),a}(n.Component),E=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={},n}return Object(o.a)(a,[{key:"render",value:function(){var e=new Date,t=String(e.getDate()).padStart(2,"0"),a=String(e.getMonth()+1).padStart(2,"0"),n=e.getFullYear();e="".concat(a,"/").concat(t,"/").concat(n);return l.a.createElement("footer",{className:"footer"},l.a.createElement("p",null,"Posted by: Matthew Pan - Date: ",e," - Website: ",l.a.createElement("a",{href:"https://www.mattpan.com"},"www.mattpan.com")))}}]),a}(n.Component),N=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={},n}return Object(o.a)(a,[{key:"render",value:function(){if(this.props.data){var e=this.props.data,t=e.email,a=e.phone,n=e.address,r=n.street,s=n.city,i=n.state,o=n.zip;n.cityname}return l.a.createElement("section",{className:"contact",id:"contact"},l.a.createElement("div",null,l.a.createElement("h2",{className:"resume-title",style:{color:"#9933ff"}},"Contact Info"),l.a.createElement("table",null,l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Email"),l.a.createElement("td",null," : "),l.a.createElement("td",null,t)),l.a.createElement("tr",null,l.a.createElement("td",null,"Phone"),l.a.createElement("td",null," : "),l.a.createElement("td",null,a)),l.a.createElement("tr",null,l.a.createElement("td",null,"Address"),l.a.createElement("td",null," : "),l.a.createElement("td",null,r)),l.a.createElement("tr",null,l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null,"".concat(s,", ").concat(i,", ").concat(o)))))))}}]),a}(n.Component),k=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={resumeData:{},gridtemplate:"1fr 2.5fr 1fr"},n.resizeWindow=n.resizeWindow.bind(Object(p.a)(n)),n}return Object(o.a)(a,[{key:"getResumeData",value:function(){b.a.ajax({url:"/resumeData.json",dataType:"json",cache:!1,success:function(e){this.setState({resumeData:e})}.bind(this),error:function(e,t,a){console.log(a),alert(a)}})}},{key:"componentDidMount",value:function(){this.getResumeData(),this.resizeWindow(),window.addEventListener("resize",this.resizeWindow)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resizeWindow)}},{key:"resizeWindow",value:function(){window.innerWidth<500?this.setState({gridtemplate:"1fr 10fr 1fr"}):this.setState({gridtemplate:"1fr 2.5fr 1fr"})}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(v,null),l.a.createElement("div",{className:"main",style:{gridTemplateColumns:this.state.gridtemplate}},l.a.createElement("div",{className:"leftEmpty"}),l.a.createElement("div",{className:"rightEmpty"}),l.a.createElement(h,{data:this.state.resumeData.main}),l.a.createElement(y,{data:this.state.resumeData.resume}),l.a.createElement(N,{data:this.state.resumeData.main})),l.a.createElement(E,null))}}]),a}(n.Component),O=a(16),S=a.n(O),w=a(18),L=a(6),j=a.n(L),T=(a(36),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).updateToNewFolder=function(e){j.a.get(n.state.server+e).then((function(e){if(!e.data.hasOwnProperty("errno")){var t=e.data;t.sort((function(e,t){return e.isDict==t.isDict?0:e.isDict?-1:1})),n.setState({list:t})}})).catch((function(e){console.log(e)}))},n.state={list:[],server:n.props.server},n.updatebasedonCurrentURL=n.updatebasedonCurrentURL.bind(Object(p.a)(n)),n.updateToNewFolder=n.updateToNewFolder.bind(Object(p.a)(n)),n.ignoreStatic=n.ignoreStatic.bind(Object(p.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.updateToNewFolder(document.URL.substr(document.URL.indexOf(this.props.target))),window.addEventListener("popstate",this.updatebasedonCurrentURL)}},{key:"updatebasedonCurrentURL",value:function(e){this.updateToNewFolder(document.URL.substr(document.URL.indexOf(this.props.target)))}},{key:"ignoreStatic",value:function(e){return e.substr(e.indexOf(this.props.target))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("button",{className:"btn btn-primary",onClick:function(){var t=document.URL.substring(document.URL.indexOf(e.props.target),document.URL.lastIndexOf("/"));if(""==t){var a=document.URL.substring(0,document.URL.lastIndexOf("/"));window.location.href=a}else e.updateToNewFolder(t),window.history.pushState(null,null,document.URL.substring(0,document.URL.lastIndexOf("/")))}},"Back"),this.state.list.map((function(t){return t.isDict?l.a.createElement(g.b,{className:"itemFolder",key:e.state.server+t.name,to:"/app"+e.ignoreStatic(t.name),onClick:function(){return e.updateToNewFolder(e.ignoreStatic(t.name))}},"Folder: "+t.name.substr(t.name.lastIndexOf("/")+1)):l.a.createElement("div",{className:"itemFiles",key:e.state.server+t.name,onClick:function(){window.open(e.state.server+t.name,"_blank")}},"Files: "+t.name.substr(t.name.lastIndexOf("/")+1))})))}}]),a}(n.Component)),C=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).updateToNewFolder=function(e){j.a.get(n.state.server+e).then((function(e){if(!e.data.hasOwnProperty("errno")){console.log(e.data);var t=e.data;t.sort((function(e,t){return e.isDict==t.isDict?0:e.isDict?-1:1})),n.setState({list:t})}})).catch((function(e){console.log(e)}))},n.state={list:[],server:n.props.server,userID:null,username:null,email:null,audioUrl:null,audioTitle:null},n.updatebasedonCurrentURL=n.updatebasedonCurrentURL.bind(Object(p.a)(n)),n.updateToNewFolder=n.updateToNewFolder.bind(Object(p.a)(n)),n.ignoreStatic=n.ignoreStatic.bind(Object(p.a)(n)),n.testAudio=n.testAudio.bind(Object(p.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){j.a.defaults.headers.common.Authorization="Token "+localStorage.getItem("token"),this.getUserInfo(),window.addEventListener("popstate",this.updatebasedonCurrentURL)}},{key:"getUserInfo",value:function(){var e=this;j.a.get(this.state.server+"/auth/user").then((function(t){e.setState({userID:t.data.id,username:t.data.username,email:t.data.email}),document.URL.indexOf(e.props.target+"/"+t.data.username)>0?e.updateToNewFolder(document.URL.substr(document.URL.indexOf(e.props.target))+"/"):e.updateToNewFolder(document.URL.substr(document.URL.indexOf(e.props.target))+"/"+t.data.username+"/")}))}},{key:"testThre",value:function(e){j()({url:this.state.server+e,method:"GET",responseType:"blob"}).then((function(e){var t=window.URL.createObjectURL(new Blob([e.data],{type:e.headers["content-type"]}));window.open(t)}))}},{key:"updatebasedonCurrentURL",value:function(e){this.updateToNewFolder(document.URL.substr(document.URL.indexOf(this.props.target)))}},{key:"ignoreStatic",value:function(e){return e.substr(e.indexOf(this.props.target))}},{key:"testAudio",value:function(e){var t=this,a=document.getElementById("loading");a.style.display="block",j()({url:this.state.server+e,method:"GET",responseType:"blob"}).then((function(n){a.style.display="none";var l=window.URL.createObjectURL(new Blob([n.data],{type:n.headers["content-type"]})),r=document.getElementById("audioControl");r.src=l,r.title=e,r.type=n.headers["content-type"],t.setState({audioUrl:l,audioTitle:e.substr(e.lastIndexOf("/")+1)}),r.play()}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("button",{className:"btn btn-secondary",onClick:function(){var t=document.URL.substring(document.URL.indexOf(e.props.target),document.URL.lastIndexOf("/"));if(""==t){var a=document.URL.substring(0,document.URL.lastIndexOf("/"));window.location.href=a}else e.updateToNewFolder(t+"/"),window.history.pushState(null,null,document.URL.substring(0,document.URL.lastIndexOf("/")))}},"Back"),l.a.createElement("div",{className:"",style:{display:"block"}},l.a.createElement("div",{class:"spinner-border text-info",role:"status",id:"loading",style:{display:"none"}},l.a.createElement("span",{class:"sr-only"},"Loading...")),l.a.createElement("span",{style:{display:"block"}},this.state.audioTitle),l.a.createElement("audio",{controls:"control",id:"audioControl",src:this.state.audio})),this.state.list.map((function(t){return t.isDict?l.a.createElement(g.b,{className:"itemFolder",key:e.state.server+t.name,to:"/folder"+e.ignoreStatic(t.name),onClick:function(){return e.updateToNewFolder(e.ignoreStatic(t.name))}},"Folder: "+t.name.substr(t.name.lastIndexOf("/")+1)):l.a.createElement("div",{className:"itemFiles",key:e.state.server+t.name,onClick:function(){e.testThre(t.name)}},"Files: "+t.name.substr(t.name.lastIndexOf("/")+1))})))}}]),a}(n.Component),x=(a(76),a(40),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={},n.album_data=n.props.album_data,n}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"card",style:{width:"18rem"}},l.a.createElement("img",{src:"",className:"card-img-top",alt:"..."}),l.a.createElement("div",{className:"card-body"},l.a.createElement("h5",{className:"card-title"},this.album_data.album_title),l.a.createElement("p",{className:"card-text"},"Artist: ",this.album_data.artist))))}}]),a}(n.Component)),_=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={listOfSong:[],currentAlbum:0,musicPlayIndex:0,playType:n.props.playType?n.props.playType:"listloop",audioTitle:"",playStatus:!1,audioControlName:"audioControl",currentTime:0,duration:0,audioHaveControl:!0},n.playTargetSong=n.playTargetSong.bind(Object(p.a)(n)),n.updateStateElement=n.updateStateElement.bind(Object(p.a)(n)),n.playNext=n.playNext.bind(Object(p.a)(n)),n.pauseMusic=n.pauseMusic.bind(Object(p.a)(n)),n.playMusic=n.playMusic.bind(Object(p.a)(n)),n.shufflePlayList=n.shufflePlayList.bind(Object(p.a)(n)),n.toHrMinSec=n.toHrMinSec.bind(Object(p.a)(n)),n.getAudioTitle=n.getAudioTitle.bind(Object(p.a)(n)),n.setState=n.setState.bind(Object(p.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.getAudioInstance(this);var t=document.getElementById(this.state.audioControlName),a=document.getElementById("playhead"),n=document.getElementById("timeline"),l=this.setState;function r(e){t.currentTime=t.duration*i(e),l({audioHaveControl:!0}),a.removeEventListener("dragend",r),a.removeEventListener("drag",s)}function s(e){o(e)}function i(e){return(e.clientX-c(n))/n.offsetWidth}function o(e){var r=e.clientX-c(n);r=r<0?0:r>n.offsetWidth?n.offsetWidth:r,a.style.marginLeft=r+"px",l({currentTime:r/n.offsetWidth*t.duration})}function c(e){return e.getBoundingClientRect().left}t.addEventListener("ended",(function(){return e.playNext()})),t.addEventListener("timeupdate",(function(){if(e.state.audioHaveControl){var n=t.currentTime/t.duration*100;a.style.marginLeft=n+"%",e.setState({currentTime:t.currentTime,duration:t.duration})}})),window.addEventListener("keypress",(function(a){32==a.keyCode&&(t.paused?e.playMusic():e.pauseMusic())})),n.addEventListener("click",(function(e){o(e),t.currentTime=t.duration*i(e)}),!1),a.addEventListener("dragstart",(function(e){l({audioHaveControl:!1}),a.addEventListener("drag",s),a.addEventListener("dragend",r)}),!1)}},{key:"updateStateElement",value:function(e){this.setState(e)}},{key:"updateListOfSound",value:function(e,t){this.setState({listOfSong:e,musicPlayIndex:0,currentAlbum:t}),"shuffle"==this.state.playType&&this.shufflePlayList(),this.playTargetSong(this.state.listOfSong[0],!1)}},{key:"updatePlayType",value:function(e){this.setState({playType:e})}},{key:"pauseMusic",value:function(){document.getElementById(this.state.audioControlName).pause(),this.setState({playStatus:!1})}},{key:"playMusic",value:function(){document.getElementById(this.state.audioControlName).play(),this.setState({playStatus:!0})}},{key:"toHrMinSec",value:function(e){var t=~~(e/3600),a=~~(e%3600/60),n=~~e%60,l="";return t>0&&(l+=t+":"+(a<10?"0":"")),l+=a+":"+(n<10?"0":""),l+=""+n}},{key:"shufflePlayList",value:function(){for(var e=this.state.listOfSong,t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),n=[e[a],e[t]];e[t]=n[0],e[a]=n[1]}this.setState({listOfSong:e})}},{key:"playNext",value:function(){var e=this.state.musicPlayIndex;switch(this.state.playType){case"listloop":this.state.listOfSong.length<e+2&&(e=-1);break;case"shuffle":break;case"random":for(e=Math.random()*this.state.listOfSong.length<<0;this.state.listOfSong.length>1&&e==this.state.musicPlayIndex;)e=Math.random()*this.state.listOfSong.length<<0;e-=1;break;case"loop":e-=1}this.playTargetSong(this.state.listOfSong[e+1],!0)}},{key:"playTargetSong",value:function(e,t){var a=this,n=document.getElementById("loading");n.style.display="block";var l=this.state.listOfSong.findIndex((function(t){return t.id==e.id}));l>-1?this.setState({musicPlayIndex:l}):this.setState({listOfSong:this.state.listOfSong.concat([e]),musicPlayIndex:this.state.listOfSong.length-1}),e.src().then((function(l){n.style.display="none";var r=document.getElementById(a.state.audioControlName);r.src=l.url,r.title=e.song_title,r.type=l.type,a.setState({audioTitle:e.song_title,playStatus:t}),t&&r.play()})).catch((function(e){return a.playNext()}))}},{key:"getAudioTitle",value:function(){return this.state.audioTitle}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"container",id:"music_player_container"},l.a.createElement("div",{className:"row spinner-border text-info",role:"status",id:"loading",style:{display:"none"}},l.a.createElement("span",{className:"sr-only"},"Loading...")),l.a.createElement("span",{className:"row musci_player_element"},this.state.audioTitle),l.a.createElement("audio",{className:"row musci_player_element",id:this.state.audioControlName,src:"",type:"audio/mpeg"}),l.a.createElement("div",{className:"row musci_player_element"},l.a.createElement("div",{className:"btn-group btn-group-toggle col-lg-8"},l.a.createElement("div",{className:"btn btn-secondary active col-lg-0.5"},"listloop"==this.state.playType?l.a.createElement("div",{type:"radio",onClick:function(){return e.updatePlayType("random")}},l.a.createElement("i",{className:"fas fa-redo-alt music_icon"})):"random"==this.state.playType?l.a.createElement("div",{type:"radio",onClick:function(){return e.updatePlayType("loop")}},l.a.createElement("i",{className:"fas fa-random music_icon"})):l.a.createElement("div",{type:"radio",onClick:function(){return e.updatePlayType("listloop")}},l.a.createElement("i",{className:"fas fa-sync-alt music_icon"}))),l.a.createElement("div",{className:"btn btn-secondary col-lg-0.5"},l.a.createElement("div",{type:"radio",onClick:function(){if("random"==e.state.playType)e.playNext();else{var t=e.state.musicPlayIndex;t=t>0?t-1:e.state.listOfSong.length-1,e.playTargetSong(e.state.listOfSong[t],!0)}}},l.a.createElement("i",{className:"fas fa-backward music_icon"}))),l.a.createElement("div",{className:"btn btn-secondary col-lg-0.5"},l.a.createElement("div",{type:"radio",onClick:function(){e.state.playStatus?e.pauseMusic():e.playMusic()}},l.a.createElement("i",{className:this.state.playStatus?"fas fa-pause music_icon":"fas fa-play music_icon"}))),l.a.createElement("div",{className:"btn btn-secondary col-lg-0.5"},l.a.createElement("div",{type:"radio",onClick:function(){if("loop"==e.state.playType){var t=e.state.musicPlayIndex;t=t<e.state.listOfSong.length-1?t+1:0,e.playTargetSong(e.state.listOfSong[t],!0)}else e.playNext()}},l.a.createElement("i",{className:"fas fa-forward music_icon"}))),l.a.createElement("div",{className:"btn btn-secondary col col-lg-10"},l.a.createElement("div",{className:"col col-lg-3",id:"displaytime",style:{display:"inline-block"}},this.toHrMinSec(this.state.currentTime)+" / "+this.toHrMinSec(this.state.duration)),l.a.createElement("div",{className:"col col-lg-8",id:"timeline"},l.a.createElement("div",{id:"playhead",draggable:"true"}))))))}}]),a}(n.Component),I=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).audioInstance=null,n.state={listOfalbum:[],listOfSong:[],currentAlbum:null,audioTitle:"",audioList:[],songList:[],actionMessage:"",actionFun:function(){},refershList:!1},n.getListOfAlbum=n.getListOfAlbum.bind(Object(p.a)(n)),n.getListOfSong=n.getListOfSong.bind(Object(p.a)(n)),n.uploadSong=n.uploadSong.bind(Object(p.a)(n)),n.getSongUrl=n.getSongUrl.bind(Object(p.a)(n)),n.deleteSong=n.deleteSong.bind(Object(p.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){j.a.defaults.headers.common.Authorization="Token "+localStorage.getItem("token"),this.getListOfAlbum()}},{key:"getListOfAlbum",value:function(){var e=this;j.a.get(this.props.server+"/music/getListOfAlbum").then((function(t){e.setState({listOfalbum:t.data})}))}},{key:"getListOfSong",value:function(e){var t=this;j.a.get(this.props.server+"/music/getListOfSong?album_id="+e).then((function(a){if(a.data.success){var n=a.data.list.map((function(a){return a.src=function(){return t.getSongUrl(e,a.id)},a}));t.setState({listOfSong:a.data.list,currentAlbum:e,songList:a.data.list}),t.audioInstance.updateListOfSound(n,e)}else console.log(a.data.message)}))}},{key:"getSongUrl",value:function(){var e=Object(w.a)(S.a.mark((function e(t,a){var n,l;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j()({url:this.props.server+"/music/getSong?album_id="+t+"&song_id="+a,method:"GET",responseType:"blob"});case 2:return n=e.sent,l=window.URL.createObjectURL(new Blob([n.data],{type:n.headers["content-type"]})),e.abrupt("return",{url:l,type:n.headers["content-type"]});case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"uploadSong",value:function(e){var t=this,a=new FormData;a.append("song_title",""==e.song_title?e.audio_file?e.audio_file.name:"":e.song_title),a.append("youtube_link",e.youtube_link),a.append("audio_file",e.audio_file),j()({url:this.props.server+"/music/uploadSong?album_id="+this.state.currentAlbum,method:"POST",headers:{"Content-Type":"multipart/form-data"},data:a}).then((function(e){e.data.success?t.getListOfSong(t.state.currentAlbum):alert("file upload failed! \n Message: "+e.data.message)}))}},{key:"deleteSong",value:function(e){var t=this;j()({url:this.props.server+"/music/deleteSong?song_id="+e.id+"&album_id="+this.state.currentAlbum,method:"GET"}).then((function(e){e.data.success?t.getListOfSong(t.state.currentAlbum):alert("file upload failed! \n Message: "+e.data.message)}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("div",null,this.state.listOfalbum.map((function(t){return l.a.createElement("div",{className:"music_album_items",key:t.id+t.album_title+Math.random(0,1e4),onClick:function(){return e.getListOfSong(t.id)}},l.a.createElement(x,{album_data:t}))}))),null==this.state.currentAlbum?null:l.a.createElement("div",null,l.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#exampleModal"},"Upload Song"),l.a.createElement(_,{playType:"listloop",server:this.props.server,getAudioInstance:function(t){return e.audioInstance=t}})),l.a.createElement("div",null,l.a.createElement("ul",{className:"list-group"},this.state.listOfSong.map((function(t){return l.a.createElement("li",{key:t+Math.random()+""+Math.random()},l.a.createElement("div",{className:"input-group mb-1"},l.a.createElement("div",{key:t+Math.random(),className:"form-control list-group-item list-group-item-action",onClick:function(){return e.audioInstance.playTargetSong(t,!0)}},t.song_title),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{className:"btn btn-secondary songDeleteButton",type:"button","data-toggle":"modal","data-target":"#confirmMessage",onClick:function(){e.setState({actionMessage:"\nDelete Song: "+t.song_title,actionFun:function(){e.deleteSong(t)}})}},"Delete"))))})))),l.a.createElement("div",{className:"modal fade",id:"exampleModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"Modal title"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("form",{id:"upload_song_form"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"form_song_title"},"Song title"),l.a.createElement("input",{type:"text",className:"form-control",id:"form_song_title","aria-describedby":"songHelper"}),l.a.createElement("small",{id:"songHelper",className:"form-text text-muted"},"Song Title is not relate to your filename.")),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"form_youtube_link"},"Youtube Link"),l.a.createElement("input",{type:"text",className:"form-control",id:"form_youtube_link"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"form_audio_file"},"Audio_file"),l.a.createElement("input",{type:"file",className:"form-control",id:"form_audio_file",required:!0})))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close"),l.a.createElement("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",onClick:function(){e.uploadSong({song_title:document.getElementById("form_song_title").value,youtube_link:document.getElementById("form_youtube_link").value,audio_file:document.getElementById("form_audio_file").files[0]})}},"Upload"))))),l.a.createElement("div",{className:"modal fade",id:"confirmMessage",tabIndex:"-1",role:"dialog","aria-labelledby":"confirmMessageLabel","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"confirmMessageLabel"},"Confirm Page"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},"Please Confirm your Action! ",l.a.createElement("br",null),this.state.actionMessage),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close"),l.a.createElement("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",onClick:function(){e.state.actionFun()}},"Confirm"))))))}}]),a}(n.Component),U=a(44),M=function(e){var t=e.component,a=e.isLogin,n=Object(U.a)(e,["component","isLogin"]);return l.a.createElement(d.b,{render:function(e){return a?l.a.createElement(t,Object.assign({},e,n)):l.a.createElement(d.a,{to:"/login"})}})},R=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={server:n.props.server,isLogin:null,userid:null,username:null,email:null},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.testUserToken().then((function(t){console.log(t),e.setState({isLogin:!0,userid:t.data.id,username:t.data.username,email:t.data.email})})).catch((function(t){e.setState({isLogin:!1})}))}},{key:"testUserToken",value:function(){var e=Object(w.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j()({url:"https://homepc.mattpan.com:5443/api/auth/user",headers:{Authorization:"Token "+localStorage.getItem("token")}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"tempLogin",value:function(e,t){j.a.post(this.props.server+"/auth/login",{username:e,password:t}).then((function(e){e.data.token?localStorage.setItem("token",e.data.token):alert("username or password is incorrect!")}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},l.a.createElement("div",{className:"navbar-brand"},"Folder"),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},l.a.createElement("ul",{className:"navbar-nav mr-auto"},l.a.createElement("li",{className:"nav-item active"},l.a.createElement(g.b,{className:"nav-link",to:"/app/public"},"Public ",l.a.createElement("span",{className:"sr-only"},"(current)"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement(g.b,{className:"nav-link",to:"/app/media"},"Media")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(g.b,{className:"nav-link",to:"/app/music"},"Music"))),l.a.createElement("ul",{className:"navbar-nav my-2 my-lg-0"},this.state.isLogin?l.a.createElement("li",{style:{color:"white",margin:"8px 10px 0 0"}},"Weclome: ",this.state.username):null,this.state.isLogin?l.a.createElement("li",null,l.a.createElement(g.b,{className:"btn btn-secondary",to:"/app/public",onClick:function(){localStorage.removeItem("token"),e.setState({isLogin:!1}),j.a.defaults.headers.common.Authorization=""}},"LogOut")):l.a.createElement("li",null,l.a.createElement(g.b,{className:"btn btn-primary",to:"/login"},"Login"))))),null==this.state.isLogin?l.a.createElement("span",null):l.a.createElement(d.d,null,l.a.createElement(M,{component:C,isLogin:this.state.isLogin,path:"/app/media/(.*)?",target:"/media",server:this.props.server}),l.a.createElement(M,{component:I,isLogin:this.state.isLogin,path:"/app/music/(.*)?",server:this.props.server}),l.a.createElement(d.b,{path:"/app/public/(.*)?",render:function(t){return l.a.createElement(T,Object.assign({},t,{target:"/public",server:e.props.server}))}})))}}]),a}(n.Component),A=(a(81),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={},n.processLogin=n.processLogin.bind(Object(p.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){j.a.defaults.headers.common.Authorization="",document.body.style.backgroundColor="#212121"}},{key:"componentWillUnmount",value:function(){document.body.style.backgroundColor="white"}},{key:"processLogin",value:function(){j.a.post(this.props.server+"/auth/login",{username:document.getElementById("username").value,password:document.getElementById("password").value}).then((function(e){e.data.token?(localStorage.setItem("token",e.data.token),j.a.defaults.headers.common.Authorization="Token "+e.data.token,window.history.back()):document.getElementById("login-message").value="username or password is incorrect!"}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"form"},l.a.createElement("div",{className:"control"},l.a.createElement("h1",null,"Sign In")),l.a.createElement("div",{className:"control block-cube block-input login-item"},l.a.createElement("input",{id:"username",type:"text",name:"username",placeholder:"Username"}),l.a.createElement("div",{class:"bg-top"},l.a.createElement("div",{class:"bg-inner"})),l.a.createElement("div",{class:"bg-right"},l.a.createElement("div",{class:"bg-inner"})),l.a.createElement("div",{class:"bg"},l.a.createElement("div",{class:"bg-inner"}))),l.a.createElement("div",{className:"control block-cube block-input login-item"},l.a.createElement("input",{id:"password",name:"password",placeholder:"Password",type:"password"}),l.a.createElement("div",{class:"bg-top"},l.a.createElement("div",{class:"bg-inner"})),l.a.createElement("div",{class:"bg-right"},l.a.createElement("div",{class:"bg-inner"})),l.a.createElement("div",{class:"bg"},l.a.createElement("div",{class:"bg-inner"}))),l.a.createElement("button",{className:"login-button btn block-cube block-cube-hover",type:"button",onClick:this.processLogin},l.a.createElement("div",{className:"bg-top"},l.a.createElement("div",{className:"bg-inner"})),l.a.createElement("div",{className:"bg-right"},l.a.createElement("div",{className:"bg-inner"})),l.a.createElement("div",{className:"bg"},l.a.createElement("div",{className:"bg-inner"})),l.a.createElement("div",{className:"text"},"Log In")),l.a.createElement("span",{className:"login-message",id:"login-message"}))}}]),a}(n.Component)),D=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={server:"https://homepc.mattpan.com:5443/api"},m.a.initialize("UA-156169363-1"),m.a.pageview(window.location.pathname),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"App"},l.a.createElement(d.d,null,l.a.createElement(d.b,{exact:!0,path:"/",component:k}),l.a.createElement(d.b,{path:"/login",render:function(t){return l.a.createElement(A,Object.assign({},t,{server:e.state.server}))}}),l.a.createElement(d.b,{path:"/app/(.*)?",render:function(t){return l.a.createElement(R,Object.assign({},t,{server:e.state.server}))}})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(g.a,null,l.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[47,1,2]]]);
//# sourceMappingURL=main.5dc9b948.chunk.js.map